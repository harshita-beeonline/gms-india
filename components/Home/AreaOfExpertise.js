"use client";
import React from "react";
import styles from "../../styles/AreaOfExpertise.module.scss";
import areaone from "../../public/images/areaone.svg";
import areatwo from "../../public/images/areatwo.svg";
import areathree from "../../public/images/areathree.svg";
import Image from "next/image";
import { useInView } from "react-intersection-observer";
import { useRouter } from "next/navigation";
import "animate.css";
const AreaOfExpertise = () => {
  const { ref, inView } = useInView({
    triggerOnce: true, // runs every time in view
    threshold: 0.2, // trigger when 20% visible
  });
  const router = useRouter();
  const cardData = [
    {
      icon: (
        <svg
          className={`draw-icon ${styles.icon}`}
          width="73"
          height="73"
          viewBox="0 0 73 73"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.28125 18.25H18.25V25.0938C18.25 28.7437 21.4438 31.9375 25.0938 31.9375H47.9062C51.5563 31.9375 54.75 28.7437 54.75 25.0938V18.25H70.7188C72.0875 18.25 73 17.3375 73 15.9688C73 14.6 72.0875 13.6875 70.7188 13.6875H54.75V6.84375C54.75 3.19375 51.5563 0 47.9062 0H25.0938C21.4438 0 18.25 3.19375 18.25 6.84375V13.6875H2.28125C0.9125 13.6875 0 14.6 0 15.9688C0 17.3375 0.9125 18.25 2.28125 18.25ZM22.8125 6.84375C22.8125 5.475 23.725 4.5625 25.0938 4.5625H47.9062C49.275 4.5625 50.1875 5.475 50.1875 6.84375V25.0938C50.1875 26.4625 49.275 27.375 47.9062 27.375H25.0938C23.725 27.375 22.8125 26.4625 22.8125 25.0938V6.84375Z"
            fill="#3B5BA6"
          />
          <path
            d="M70.7188 50.1875H63.875V43.3438C63.875 39.6937 60.6813 36.5 57.0312 36.5H15.9688C12.3188 36.5 9.125 39.6937 9.125 43.3438V50.1875H2.28125C0.9125 50.1875 0 51.1 0 52.4688C0 53.8375 0.9125 54.75 2.28125 54.75H9.125V61.5938C9.125 65.2437 12.3188 68.4375 15.9688 68.4375H57.0312C60.6813 68.4375 63.875 65.2437 63.875 61.5938V54.75H70.7188C72.0875 54.75 73 53.8375 73 52.4688C73 51.1 72.0875 50.1875 70.7188 50.1875ZM59.3125 61.5938C59.3125 62.9625 58.4 63.875 57.0312 63.875H15.9688C14.6 63.875 13.6875 62.9625 13.6875 61.5938V43.3438C13.6875 41.975 14.6 41.0625 15.9688 41.0625H57.0312C58.4 41.0625 59.3125 41.975 59.3125 43.3438V61.5938Z"
            fill="#3B5BA6"
          />
        </svg>
      ),
      title: "Components",
      details:
        "Precision-engineered components for high-performance EVs, semiconductors, MEMS, and microelectronics applications.",
      tag: "Learn More",
      href: "/category/components",
    },
    {
      icon: (
        <svg
          className={styles.icon}
          width="73"
          height="74"
          viewBox="0 0 73 74"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M66.1562 10.8658H52.1836V7.15875C52.1818 5.72237 51.6104 4.34534 50.5947 3.32967C49.579 2.314 48.202 1.74259 46.7656 1.74078H26.2344C24.798 1.74259 23.421 2.314 22.4053 3.32967C21.3896 4.34534 20.8182 5.72237 20.8164 7.15875V10.8658H6.84375C5.10495 10.8679 3.43797 11.5596 2.20846 12.7891C0.97894 14.0186 0.287269 15.6856 0.285156 17.4244V28.8306C0.285156 29.36 0.495458 29.8677 0.869799 30.2421C1.24414 30.6164 1.75185 30.8267 2.28125 30.8267H3.70703V65.3306C3.70914 67.0694 4.40082 68.7364 5.63033 69.9659C6.85985 71.1954 8.52683 71.8871 10.2656 71.8892H62.7344C64.4732 71.8871 66.1402 71.1954 67.3697 69.9659C68.5992 68.7364 69.2909 67.0694 69.293 65.3306V30.8267H70.7188C71.2481 30.8267 71.7559 30.6164 72.1302 30.2421C72.5045 29.8677 72.7148 29.36 72.7148 28.8306V17.4244C72.7127 15.6856 72.0211 14.0186 70.7915 12.7891C69.562 11.5596 67.8951 10.8679 66.1562 10.8658ZM24.8086 7.15875C24.8092 6.7808 24.9596 6.41849 25.2269 6.15124C25.4941 5.88398 25.8564 5.73357 26.2344 5.73297H46.7656C47.1436 5.73357 47.5059 5.88398 47.7731 6.15124C48.0404 6.41849 48.1908 6.7808 48.1914 7.15875V10.8658H24.8086V7.15875ZM4.27734 17.4244C4.27825 16.744 4.54893 16.0918 5.03003 15.6107C5.51113 15.1296 6.16337 14.8589 6.84375 14.858H66.1562C66.8366 14.8589 67.4889 15.1296 67.97 15.6107C68.4511 16.0918 68.7217 16.744 68.7227 17.4244V26.8345H61.3086V24.8384C61.3086 24.309 61.0983 23.8013 60.724 23.427C60.3496 23.0526 59.8419 22.8423 59.3125 22.8423H50.1875C49.6581 22.8423 49.1504 23.0526 48.776 23.427C48.4017 23.8013 48.1914 24.309 48.1914 24.8384V26.8345H24.8086V24.8384C24.8086 24.309 24.5983 23.8013 24.224 23.427C23.8496 23.0526 23.3419 22.8423 22.8125 22.8423H13.6875C13.1581 22.8423 12.6504 23.0526 12.276 23.427C11.9017 23.8013 11.6914 24.309 11.6914 24.8384V26.8345H4.27734V17.4244ZM52.1836 26.8345H57.3164V30.8267H52.1836V26.8345ZM15.6836 26.8345H20.8164V30.8267H15.6836V26.8345ZM65.3008 65.3306C65.2999 66.011 65.0292 66.6633 64.5481 67.1443C64.067 67.6255 63.4147 67.8961 62.7344 67.897H10.2656C9.58525 67.8961 8.933 67.6255 8.4519 67.1443C7.9708 66.6633 7.70012 66.011 7.69922 65.3306V30.8267H11.6914V32.8228C11.6914 33.3522 11.9017 33.8599 12.276 34.2343C12.6504 34.6086 13.1581 34.8189 13.6875 34.8189H22.8125C23.3419 34.8189 23.8496 34.6086 24.224 34.2343C24.5983 33.8599 24.8086 33.3522 24.8086 32.8228V30.8267H48.1914V32.8228C48.1914 33.3522 48.4017 33.8599 48.776 34.2343C49.1504 34.6086 49.6581 34.8189 50.1875 34.8189H59.3125C59.8419 34.8189 60.3496 34.6086 60.724 34.2343C61.0983 33.8599 61.3086 33.3522 61.3086 32.8228V30.8267H65.3008V65.3306Z"
            fill="#3B5BA6"
          />
          <path
            d="M53.6094 47.9361C54.4125 47.9407 55.1919 48.2088 55.8279 48.6992C56.2504 49.0183 56.7823 49.1566 57.3067 49.0835C57.8311 49.0105 58.305 48.7321 58.6241 48.3097C58.9433 47.8872 59.0815 47.3553 59.0085 46.8309C58.9354 46.3065 58.6571 45.8326 58.2346 45.5134C56.9067 44.4973 55.2815 43.9458 53.6094 43.9439C51.9168 43.9469 50.2723 44.507 48.9298 45.5378C47.5873 46.5685 46.6216 48.0126 46.1816 49.647H26.8184C26.3785 48.0126 25.4127 46.5685 24.0702 45.5378C22.7277 44.507 21.0832 43.9469 19.3906 43.9439C17.7185 43.9458 16.0933 44.4973 14.7654 45.5134C14.3429 45.8326 14.0646 46.3065 13.9915 46.8309C13.9185 47.3553 14.0567 47.8872 14.3759 48.3097C14.695 48.7321 15.1689 49.0105 15.6933 49.0835C16.2177 49.1566 16.7497 49.0183 17.1721 48.6992C17.8081 48.2088 18.5875 47.9407 19.3906 47.9361C19.9809 47.9307 20.564 48.0663 21.0913 48.3317C21.6186 48.5971 22.0749 48.9846 22.4223 49.4619C22.7696 49.9393 22.9979 50.4927 23.0882 51.0761C23.1784 51.6594 23.1281 52.256 22.9413 52.816C22.7545 53.376 22.4367 53.8833 22.0142 54.2956C21.5918 54.708 21.077 55.0135 20.5127 55.1868C19.9483 55.36 19.3508 55.396 18.7697 55.2917C18.1887 55.1874 17.641 54.9458 17.1721 54.5871C16.7497 54.2679 16.2177 54.1297 15.6933 54.2027C15.1689 54.2758 14.695 54.5541 14.3759 54.9766C14.0567 55.3991 13.9185 55.931 13.9915 56.4554C14.0646 56.9798 14.3429 57.4537 14.7654 57.7728C15.7674 58.537 16.9425 59.0422 18.1864 59.2437C19.4304 59.4452 20.7048 59.3367 21.8968 58.9279C23.0888 58.5191 24.1616 57.8226 25.0201 56.9C25.8786 55.9775 26.4962 54.8575 26.8184 53.6392H46.1816C46.6216 55.2736 47.5873 56.7177 48.9298 57.7485C50.2723 58.7793 51.9168 59.3394 53.6094 59.3423C55.2815 59.3405 56.9067 58.789 58.2346 57.7728C58.6571 57.4537 58.9354 56.9798 59.0085 56.4554C59.0815 55.931 58.9433 55.3991 58.6241 54.9766C58.305 54.5541 57.8311 54.2758 57.3067 54.2027C56.7823 54.1297 56.2504 54.2679 55.8279 54.5871C55.1919 55.0774 54.4125 55.3455 53.6094 55.3502C52.6262 55.3502 51.6833 54.9596 50.9881 54.2644C50.2929 53.5692 49.9023 52.6263 49.9023 51.6431C49.9023 50.66 50.2929 49.7171 50.9881 49.0219C51.6833 48.3267 52.6262 47.9361 53.6094 47.9361Z"
            fill="#3B5BA6"
          />
        </svg>
      ),
      title: "Equipment",
      details:
        "Advanced manufacturing and testing equipment tailored for research labs and industrial-scale production in cutting-edge tech domains.",
      tag: "Learn More",
      href: "/category/equipment",
    },
    {
      icon: (
        <svg
          className={styles.icon}
          width="73"
          height="73"
          viewBox="0 0 73 73"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_89_687)">
            <path
              d="M67.8596 27.723L65.4256 26.3178L67.8596 24.9125C70.7101 23.2668 70.7138 19.1514 67.8596 17.5036L38.5338 0.571178C37.2145 -0.190474 35.5754 -0.190474 34.2565 0.571178L5.14029 17.3824C2.28958 19.0282 2.28616 23.1436 5.14029 24.7914L7.57424 26.1967L5.14029 27.6021C3.80105 28.3753 3.00162 29.7602 3.00162 31.3065V43.2983C3.00162 44.8447 3.80105 46.2295 5.14029 47.0027L6.07988 47.5452L5.14029 48.0878C2.28958 49.7335 2.28616 53.8489 5.14029 55.4967L34.4662 72.4288C35.7853 73.1903 37.4243 73.1906 38.7435 72.4288L67.8597 55.6177C70.7104 53.972 70.7138 49.8566 67.8597 48.2088L66.9201 47.6663L67.8597 47.1238C69.1989 46.3506 69.9984 44.9657 69.9984 43.4193V31.4275C69.9984 31.4274 69.9984 31.4274 69.9984 31.4272C69.9981 29.881 69.1986 28.4962 67.8596 27.723ZM38.6386 59.0562V51.999C38.6735 51.9801 38.709 51.9629 38.7434 51.9431L65.7205 36.3671L65.7199 43.42L38.6386 59.0562ZM7.27896 43.2974V36.2457L34.3612 51.8825V58.935L7.27896 43.2974ZM36.3951 4.27579L65.721 21.2079L36.6051 38.0192L36.6049 38.019L7.27896 21.0867L36.3951 4.27579ZM11.8516 28.6662L34.4662 41.7235C35.7853 42.485 37.4243 42.4853 38.7435 41.7235L61.1484 28.7874L65.721 31.4275L36.6047 48.2386L7.27953 31.306L11.8516 28.6662ZM65.7209 51.9131L36.6047 68.7242L7.27953 51.7917L10.3572 50.0147L34.4663 63.9349C35.7855 64.6963 37.4243 64.6965 38.7435 63.9347L62.6429 50.1358L65.7209 51.9131Z"
              fill="#3B5BA6"
            />
            <path
              d="M36.5034 31.8411C37.6846 31.8411 38.6421 30.8836 38.6421 29.7025C38.6421 28.5213 37.6846 27.5638 36.5034 27.5638C35.3223 27.5638 34.3647 28.5213 34.3647 29.7025C34.3647 30.8836 35.3223 31.8411 36.5034 31.8411Z"
              fill="#3B5BA6"
            />
            <path
              d="M53.6201 23.286C54.8013 23.286 55.7588 22.3285 55.7588 21.1473C55.7588 19.9662 54.8013 19.0087 53.6201 19.0087C52.439 19.0087 51.4814 19.9662 51.4814 21.1473C51.4814 22.3285 52.439 23.286 53.6201 23.286Z"
              fill="#3B5BA6"
            />
            <path
              d="M45.0513 19.0085C46.2324 19.0085 47.1899 18.051 47.1899 16.8699C47.1899 15.6887 46.2324 14.7312 45.0513 14.7312C43.8701 14.7312 42.9126 15.6887 42.9126 16.8699C42.9126 18.051 43.8701 19.0085 45.0513 19.0085Z"
              fill="#3B5BA6"
            />
            <path
              d="M36.4966 23.286C37.6777 23.286 38.6353 22.3285 38.6353 21.1473C38.6353 19.9662 37.6777 19.0087 36.4966 19.0087C35.3154 19.0087 34.3579 19.9662 34.3579 21.1473C34.3579 22.3285 35.3154 23.286 36.4966 23.286Z"
              fill="#3B5BA6"
            />
            <path
              d="M36.4966 14.7309C37.6777 14.7309 38.6353 13.7734 38.6353 12.5922C38.6353 11.4111 37.6777 10.4536 36.4966 10.4536C35.3154 10.4536 34.3579 11.4111 34.3579 12.5922C34.3579 13.7734 35.3154 14.7309 36.4966 14.7309Z"
              fill="#3B5BA6"
            />
            <path
              d="M27.938 27.5637C29.1191 27.5637 30.0767 26.6061 30.0767 25.425C30.0767 24.2438 29.1191 23.2863 27.938 23.2863C26.7568 23.2863 25.7993 24.2438 25.7993 25.425C25.7993 26.6061 26.7568 27.5637 27.938 27.5637Z"
              fill="#3B5BA6"
            />
            <path
              d="M45.0654 27.5637C46.2466 27.5637 47.2041 26.6061 47.2041 25.425C47.2041 24.2438 46.2466 23.2863 45.0654 23.2863C43.8843 23.2863 42.9268 24.2438 42.9268 25.425C42.9268 26.6061 43.8843 27.5637 45.0654 27.5637Z"
              fill="#3B5BA6"
            />
            <path
              d="M27.938 19.0085C29.1191 19.0085 30.0767 18.051 30.0767 16.8699C30.0767 15.6887 29.1191 14.7312 27.938 14.7312C26.7568 14.7312 25.7993 15.6887 25.7993 16.8699C25.7993 18.051 26.7568 19.0085 27.938 19.0085Z"
              fill="#3B5BA6"
            />
            <path
              d="M19.3799 23.286C20.561 23.286 21.5186 22.3285 21.5186 21.1473C21.5186 19.9662 20.561 19.0087 19.3799 19.0087C18.1987 19.0087 17.2412 19.9662 17.2412 21.1473C17.2412 22.3285 18.1987 23.286 19.3799 23.286Z"
              fill="#3B5BA6"
            />
          </g>
          <defs>
            <clipPath id="clip0_89_687">
              <rect width="73" height="73" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      title: "Material",
      details:
        "High-purity, application-specific materials that drive innovation across solar, LED, thin films, and semiconductor industries.",
      tag: "Learn More",
      href: "/category/materials",
    },
  ];
  const handleHover = (e) => {
    const paths = e.currentTarget.querySelectorAll(`.${styles.icon} path`);
    paths.forEach((p) => {
      p.style.animation = "none";
      void p.offsetWidth; // force reflow
      p.style.animation = "draw-fill 1s forwards";
    });
  };

  const handleCardClick = (href) => {
    if (!href) {
      return;
    }
    router.push(href);
  };

  const handleKeyDown = (event, href) => {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      handleCardClick(href);
    }
  };
  return (
    <div className={styles["area-of-expertise-content"]}>
      <h2>Our Area of Expertise</h2>
      <div className={styles["area-of-expertise-cards"]} ref={ref}>
        {cardData.map((item, index) => (
          <div
            className={`${styles["expertise-card"]} ${
              inView ? "animate__animated animate__fadeInUp" : ""
            }`}
            style={{
              animationDelay: inView ? `${index * 0.3}s` : "0s",
            }}
            key={index}
            onMouseEnter={handleHover}
            onClick={() => handleCardClick(item.href)}
            onKeyDown={(event) => handleKeyDown(event, item.href)}
            role="button"
            tabIndex={0}
          >
            <div className={styles["image-div"]}>{item.icon}</div>
            <h5>{item.title}</h5>
            <p>{item.details}</p>
            <button>
              <span className={styles["hover-text"]}>{item.tag}</span>
              <svg
                width="19"
                height="11"
                viewBox="0 0 19 11"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clipPath="url(#clip0_89_658)">
                  <g clipPath="url(#clip1_89_658)">
                    <path
                      d="M16.7977 5.77622L11.6551 0.633667L10.1858 2.08002L12.8489 4.74311L1.00366 4.76608V6.83227L12.8489 6.80933L10.1858 9.47243L11.6551 10.9417L16.7977 5.77622Z"
                      fill="#3B5BA6"
                    />
                  </g>
                </g>
                <defs>
                  <clipPath id="clip0_89_658">
                    <rect
                      width="18"
                      height="10"
                      fill="white"
                      transform="translate(0.900146 0.619995)"
                    />
                  </clipPath>
                  <clipPath id="clip1_89_658">
                    <rect
                      width="16"
                      height="11"
                      fill="white"
                      transform="translate(0.900146 0.619995)"
                    />
                  </clipPath>
                </defs>
              </svg>
            </button>
          </div>
        ))}
      </div>
    </div>
  );
};

export default AreaOfExpertise;
